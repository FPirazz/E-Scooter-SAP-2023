<!DOCTYPE html>
<html lang="en">
<head>
    <title>Create a Ride</title>
    <script>
        window.onload = function () {
            fetch('/maintenance/available_scooters/')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    const select = document.getElementById('scooterSelect');
                    data.forEach(scooter => {
                        const option = document.createElement('option');
                        option.value = scooter.id;
                        option.text = scooter.name;
                        select.appendChild(option);
                    });
                })
                .catch(error => {
                    console.error('There has been a problem with your fetch operation:', error);
                    // Handle the error here. For example, you can show an error message to the user.
                    alert('There was an error fetching the available scooters. Please try again later.');
                });
        }
    </script>
</head>
<body>
<h2>Create a Ride</h2>
<form action="/rides/create_ride" method="post" enctype="application/x-www-form-urlencoded">
    <label for="scooterSelect">Select a Scooter:</label><br>
    <select id="scooterSelect" name="scooterId" required></select><br>
    <label for="startLocation">Start Location:</label><br>
    <input type="text" id="startLocation" name="startLocation" required><br>
    <label for="endLocation">End Location:</label><br>
    <input type="text" id="endLocation" name="endLocation" required><br>
    <label for="startTime">Start Time:</label><br>
    <input type="datetime-local" id="startTime" name="startTime" required><br>
    <label for="endTime">End Time:</label><br>
    <input type="datetime-local" id="endTime" name="endTime" required><br>
    <input type="submit" value="Create Ride">
</form>
</body>
</html>